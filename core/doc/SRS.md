# A股股票分析系统功能需求文档

## 一、项目概述

### 1.1 项目背景
构建基于vn.py框架的A股股票智能分析系统，整合股票基本面分析、技术分析等多维度数据，为投资者提供数据驱动的股票投资指令。投资者可以自行选择策略提交到模拟盘，并输出下一个交易日的行动（买入、卖出）

### 1.2 系统目标
- 建立科学的股票评估体系
- 实现策略的快速开发与回测验证
- 提供任务回测、分析任务的Web交互界面
- 构建的策略可以直接用于vnpy trader框架下的实盘交易
- 当前vnpy框架行情数据库使用mysql


### 1.2 策略框架要求
- **功能需求**：
  - 基于vnpy的alpha框架进行策略因子研究（使用显卡进行计算），将alpha研究的策略因子作为vnpy_portfoliostrategy策略框架中的策略依据
  - 基于vnpy_portfoliostrategy构建的策略文件放到core/strategies目录下，该策略每日最多持有5支股票，基于因子综合分数执行开盘时买入，收盘时卖出（A股有T+1交易限制）
  - alpha框架相关的放到core/alpha目录下，alpha策略研究所产出的文件放到core/alpha_db下


### 1.3 回测功能
- **功能需求**：
  - 基于vnpy回测框架
  - 用户可以自行选择策略进行回测

- **绩效分析**：
  - 基础绩效指标（收益率、夏普比率、最大回撤等）
  - 高级绩效分析（胜率、盈亏比、索提诺比率等）
  - 归因分析（行业、风格、择时等）
  - 绩效对比基准
  - 可视化绩效报告生成

### 1.5 模拟盘功能

- **功能需求**：
  - 用户选择一个策略提交模拟盘，模拟盘基于vnpy的trader框架（可能是vnpy_paperaccount）运行，并能在web ui中跟踪模拟盘的下一交易日行动明细（买入、卖出）
  - 可以查看模拟盘的历史交易记录明细

